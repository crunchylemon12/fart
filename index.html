<!DOCTYPE html>
<html>

<head>
<style>
h1 {text-align: center; font-size: 100px;}
p {text-align: center; font-size: 75px;}
</style>

<h1> Farting counter of 2024 </h1>
</head>    

<body style="background-color: saddlebrown;">

<audio id="fartsound"> 
    <source src="fart.mp3" type="audio/mpeg">
</audio>

<p> Chyanne's farts:</p>
<p id="counterChyanne" style="font-weight: bold;"> Loading... </p>

<p>
    <button type="button" onclick="playFart()" style="font-size: 75px">Fart (Locked)</button>
</p>



<p> Jared's farts:</p>
<p id="counterJared" style="font-weight: bold;"> Loading... </p>

<p>
    <button type="button" onclick="playFart()" style="font-size: 75px">Fart (Locked)</button>
</p>

    
</body>



<script>
const apiKey = 'AIzaSyDeV0XwbzUBoFuiLkG4DOJIIKjTmbSAnlE';

// Const data for sending info
const webAppUrl = 'https://script.google.com/macros/s/AKfycbwF-osv85R7VgB93_kv8t1mKQy2IHxBf4aVKYPEpRdDP2k9h6BE7XpRPbt5RHjGfZcx/exec';
const webAppUrl2 = 'https://script.google.com/macros/s/AKfycbxB0TwNXQKBcxff1TgmRzkhcJiM8_LgML_Z7XBIBlgnB-mvPZ_7Nd8lrfRqxZOlB6Hd/exec';
const url = `${webAppUrl}?key=${apiKey}`;
const url2 = `${webAppUrl2}?key=${apiKey}`;

// Const data for retrieving info
const webAppUrl3 = 'https://script.google.com/macros/s/AKfycbw99P04AufdfYoz5tXENNmsA_ymD9u4KusFK0CpgxSJuZUS7M8R_qYUad8WqpZS_bov/exec';
const url3 = `${webAppUrl3}?key=${apiKey}`;

// My variables
var fartaudio = document.getElementById("fartsound");

var Chy = 0;
var Jared = 0;

// Functions
     function fetchData() {
      fetch(url3)
        .then(response => response.json())
        .then(data => {
          // Update the counter based on the data from Google Sheets
          document.getElementById("counterChyanne").innerText = data.Chy;
          document.getElementById("counterJared").innerText = data.Jared;
          Chy = data.Chy;
          Jared = data.Jared;
        })
        
        .catch(error => {
          console.error('Error fetching data:', error);
        });
    }

fetchData();

// Click functions
    function clickChy() {
        Chy += 1;
        document.getElementById("counterChyanne").innerText = Chy;
        fartaudio.play();
        fetch(url)
              .then(response => response.text())
              .then(data => {
                console.log(data); // The response from your web app
              })
              .catch(error => {
                console.error('Error updating cell:', error);
              });
    } 

    function clickJared() {
        Jared += 1;
        document.getElementById("counterJared").innerText = Jared;
        fartaudio.play();
        fetch(url2)
              .then(response => response.text())
              .then(data => {
                console.log(data); // The response from your web app
              })
              .catch(error => {
                console.error('Error updating cell:', error);
              });
    } 

    function playFart() {
        fartaudio.play();
    }
    
</script>

</html>
